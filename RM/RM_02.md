# THREEJS

## ëª¨ë“ ê²ƒì€ ë°•ìŠ¤ë¡œ ë¶€í„° ì‹œì‘
> [!NOTE]
> ì‹¤ìŠµ ì½”ë“œ 

![image](./assets/tutorial_01.gif)

### ğŸ“„ index.html

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
      }
    </script>
</head>

<body>
    <canvas id="c"></canvas>
    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        console.log(THREE)

        const canvas = document.querySelector('#c');
        const renderer = new THREE.WebGLRenderer({ antialias: true, canvas });
        renderer.setSize(400, 400);
        const scene = new THREE.Scene()
        scene.background = new THREE.Color(0xFCF2CE)

        const camera = new THREE.Camera(45, 100, 0, 300 )

        const controls = new OrbitControls(camera, renderer.domElement);
        camera.position.set(0,0,0.1)
        controls.update();
        
        // ë¬¼ì²´ ë§Œë“¤ê¸°
        const boxWidth = 1;
        const boxHeight = 1;
        const boxDepth = 1;
        const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);
        const material = new THREE.MeshPhongMaterial({ color: 0x44aa88 });
        const cube = new THREE.Mesh(geometry, material);
        scene.add(cube);

        // ë¹› ë§Œë“¤ê¸°
        const color = 0xFFFFFF;
        const intensity = 3;
        const light = new THREE.DirectionalLight(color, intensity);
        light.position.set(-1, 2, 4);
        scene.add(light);

        // ë°˜ë³µ ë Œë”ë§ ì‘ì—…
        function render(time) {
            time *= 0.001;  // convert time to seconds

            cube.rotation.x = time;
            cube.rotation.y = time;

            renderer.render(scene, camera);

            requestAnimationFrame(render);
        }
        requestAnimationFrame(render);
    </script>
</body>

</html>
```
ë°•ìŠ¤ë¥¼ ë§Œë“œëŠ” ì‹¤ìŠµì´ë‹¤.

> [!TIP]
> í•˜ë‹¨ ì˜¤ë¥¸ìª½ì„ í™•ì¸í•˜ë©´ Go Liveê°€ ë³´ì¸ë‹¤

![Alt text](./assets//go_liveserver.png)

ê·¸ë¦¼ê³¼ ê°™ì´ ```src/tutorial_01```í´ë”ì— ```index.html```ì„ ìƒì„±í•œ í›„  
ì‹¤ìŠµ ì½”ë“œë¥¼ ë„£ì–´ [live server](./RM_01.md#LiveServer)ë¥¼ ì‹¤í–‰ í•˜ë©´ 

http://127.0.0.1:5500/src/tutorial_01/index.htmlë¡œ ì ‘ì†ì‹œ ë¡¹ì¸í•´ ë³¼ ìˆ˜ ìˆë‹¤.


## ğŸ ì½”ë“œ ë¶„ì„ 
### ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
```html
<script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
    }
  }
</script>
```
ì´ë¶€ë¶„ì€ threejs ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ ì´ë‹¤.

### í™˜ê²½ ì„¤ì •
```html
<body>
    <canvas id="c"></canvas>
    <script> {ì—¬ê¸°ëŠ” threejs ì½”ë“œë¶€ë¶„ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤} </script>
</body>
```
threejsëŠ” ```canvas```ë¼ëŠ” ê·¸ë¦¼íŒì— ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ì‹ìœ¼ë¡œ ì‘ë™í•˜ê¸°ì— threejsë¥¼ ê·¸ë¦´ canvasë¥¼ ì¤€ë¹„í•´ì•¼ í•œë‹¤

```canvas```ì— ëŒ€í•œ  ìì„¸í•œ ì„¤ëª…ì€ [ì—¬ê¸°](https://developer.mozilla.org/ko/docs/Web/API/Canvas_API/Tutorial/Basic_usage)ë¥¼ ì°¸ê³  ë°”ë€ë‹¤
```js
// 1
import * as THREE from 'three';
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
console.log(THREE)
// 2
const canvas = document.querySelector('#c');
const renderer = new THREE.WebGLRenderer({ antialias: true, canvas });
renderer.setSize(400, 400);
// 3
const scene = new THREE.Scene()
scene.background = new THREE.Color(0xFCF2CE)

// 4
const camera = new THREE.Camera(45, 100, 0, 300 )
const controls = new OrbitControls(camera, renderer.domElement);
camera.position.set(0,0,0.1)
controls.update();

```

1. ìƒìœ„ì˜ ```import```ëŠ” threejsë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì™€ ì„ ì–¸í•œ ë¶€ë¶„ì´ë‹¤  
ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ```js```ì—ì„œëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•œë‹¤  

2. ìƒìœ„ì˜ ```body```í…Œê·¸ì— ìˆëŠ”```canvas```ë¥¼ ê°€ì ¸ì™€ Threejs rendererì— ì‚¬ìš©í•  ì—˜ë¦¬ë¨¼íŠ¸ë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤  

3. ```scene``` í™”ë©´ì„ ë‚˜íƒ€ë„¤ê¸° ìœ„í•œ ê³µê°„ì„ ë§Œë“ ë‹¤

4. ```camera```ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì´ë‹¤ ì¹´ë©”ë¼ ì¢…ë¥˜ì˜ê²½ìš° PerspectiveCamera ì™€ OrthographicCamera ì¹´ë©”ë¼ê°€ ìˆìœ¼ë©° ìš°ë¦¬ê°€ ìƒê°í•˜ëŠ” ì‹œì•¼ì™€ ë™ì¼í•œ PerspectiveCameraì˜ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚˜íƒ€ë„¤ì¤€ë‹¤  
```OrbitControls``` ë§ˆìš°ìŠ¤ì˜ í´ë¦­ ë° ì´ë™ìœ¼ë¡œ ì¹´ë©”ë¼ë¥¼ ì œì–´í•˜ëŠ” í¸ë¦¬í•˜ê²Œ ì“¸ìˆ˜ ìˆê²Œ í•˜ëŠ” ì„¤ì •ì´ë‹¤ 
> [!WARNING]
> ```camera.position```ì„ ì„¸íŒ…í•´ ì£¼ì–´ì•¼ í•œë‹¤


#### THREE JSì˜ êµ¬ì¡°
![Alt text](./assets/threejs-structure.svg)
ì¶œì²˜ : https://threejs.org/

Threejsë¥¼ ìƒìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ í•˜ë‚˜ì˜ ì¥ë©´ì„ ë§Œë“¤ê¸° ìœ„í•˜ì—¬ Renderer, Camera, Sceneì˜ ê²½ìš°ëŠ” í•„ìˆ˜ ì ì´ë‹¤.  
ì´ì™€ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°ˆë•Œë§ˆë‹¤ ë” ìì„¸íˆ ì„¤ëª…í•  ì˜ˆì •ì´ë‹¤

###

### ë¬¼ì²´ ìƒì„±
```js
// 1
const boxWidth = 1;
const boxHeight = 1;
const boxDepth = 1;
const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);

// 2
const material = new THREE.MeshPhongMaterial({ color: 0x44aa88 });

// 3
const cube = new THREE.Mesh(geometry, material);
scene.add(cube);

// 4
const color = 0xFFFFFF;
const intensity = 3;
const light = new THREE.DirectionalLight(color, intensity);
light.position.set(-1, 2, 4);
scene.add(light);
```
> [!IMPORTANT]
> r3fë§í¬ì— ì„¤ëª…ì— ëŒ€í•œ ë¶€ë¶„ì€ ì¶”í›„ threejsìš©ë„ë¡œ ìƒˆë¡œ ë§Œë“¤ì˜ˆì •ì´ë‹¤

1. ```Geometry```ëŠ” ë¬¼ì²´ì˜ í˜•íƒœ(íŠ¹ì§•)ë¥¼ ë‚˜íƒ€ë„¤ëŠ” ê²ƒì´ë‹¤  
[ì—¬ê¸°](https://github.com/liebespaar93/r3f/blob/main/README/RM_6.md)ë¥¼ í™•ì¸í•˜ë©´ ì–´ë– í•œ ëª¨í˜•ë“¤ì´ ìˆëŠ”ì§€ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤

2. ```material```ì€ ë¬¼ì²´ì˜ í‘œë©´ ì¬ì§ˆì„ ê²°í•œë‹¤  
[ì—¬ê¸°](https://github.com/liebespaar93/r3f/blob/main/README/RM_7.md)ë¥¼ í™•ì¸í•˜ë©´ ì–´ë– í•œ ì œì§ˆë“¤ì´ ìˆëŠ”ì§€ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤  
í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì€ ë¹›ì„ ì¸ì‹í•˜ê³  í‘œí˜„í•  ìˆ˜ ìˆëŠ” íŠ¹ì • ì œì§ˆë§Œ ë§ì´ ì‚¬ìš©í•  ì˜ˆì •ì´ë‹¤ 

3. ```mesh``` ì™€ ```group```ì€ ë¬¼ì²´ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤  
í˜•íƒœì™€ ì œì§ˆì„ ì„ íƒí•˜ì—¬ í•˜ë‚˜ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“ ë‹¤.  
ì´ëŸ¬í•œ ë°©ì‹ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ê°œì˜ ë¬¼ì²´ë¥¼ ë™ì¼í•œ ëª¨í˜•ìœ¼ë¡œ ìƒì„±ì´ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤

4. ```light``` ë¹›ì„ ë‚˜íƒ€ë„¤ê¸° ìœ„í•œ ì˜¤ë¸Œì íŠ¸ì´ë‹¤.  
 [ì—¬ê¸°](https://github.com/liebespaar93/r3f/blob/main/README/RM_10.md)ë¥¼ í™•ì¸í•˜ë©´ ì–´ë– í•œ ë¹›ì˜ ì¢…ë¥˜ë“¤ì´ ìˆëŠ”ì§€ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤

#### Objectì˜ êµ¬ì¡°

![image](./assets/threejs-1cube-with-directionallight.svg)
ì¶œì²˜ : https://threejs.org/

```mesh```ì˜ ê²½ìš° ```geometry```ì™€ ```Material```ì´ í•„ìš”í•˜ë©°  
ë¹›ì˜ ê²½ìš° ```Object```ë“¤ì˜ ì˜µì…˜ì— ë”°ë¼ ë¹›ì— ì˜í–¥ ì¤„ê²ƒì¸ì§€ ì•„ë‹Œì§€ë¥¼ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.  
ë¹›ì„ ì„¤ëª…í•˜ëŠ” ì‹¤ìŠµì— ìˆì„ ì˜ˆì •ì´ë‹¤

### ë°˜ë³µ ë Œë”ë§

```js
// 1
function render(time) {
    time *= 0.001;  // convert time to seconds

    // 2
    cube.rotation.x = time;
    cube.rotation.y = time;

    renderer.render(scene, camera);
    // 3
    requestAnimationFrame(render);
}
requestAnimationFrame(render);
```
1. ë°˜ë³µëœ í•¨ìˆ˜ í˜¸ì¶œì„ ìœ„í•˜ì—¬ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤

2. í•œ í”„ë ˆì„ ë§ˆë‹¤ ì›í•˜ëŠ” ì‘ì—…ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
  ìƒìœ„ ì½”ë“œëŠ”   ```cube```ë¥¼ íšŒì „ ì‹œí‚´ìœ¼ë¡œì„œ ë™ì ì¸ í™”ë©´ì„ ë§Œë“¤ì–´ ì£¼ê³  ìˆë‹¤

3. ë°˜ë³µì ì¸ í˜¸ì¶œë¡œ í”„ë ˆì„ë§ˆë‹¤ ë™ì‘í•˜ê²Œ ë§Œë“œëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤